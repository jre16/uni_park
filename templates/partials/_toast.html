<div x-data="toastStack()" x-init="init()" class="pointer-events-none fixed inset-x-0 top-20 z-[60] flex flex-col items-center gap-3 px-4 sm:top-24">
    <template x-for="toast in toasts" :key="toast.id">
        <div x-show="toast.visible"
             x-transition:enter="transition ease-out duration-300"
             x-transition:enter-start="translate-y-4 opacity-0 scale-95"
             x-transition:enter-end="translate-y-0 opacity-100 scale-100"
             x-transition:leave="transition ease-in duration-200"
             x-transition:leave-start="opacity-100 scale-100"
             x-transition:leave-end="opacity-0 scale-95"
             class="pointer-events-auto w-full max-w-md rounded-2xl border border-white/20 bg-white/95 p-4 shadow-2xl backdrop-blur-lg dark:bg-surface-900/90 dark:text-white">
            <div class="flex items-start gap-3">
                <div class="flex h-10 w-10 items-center justify-center rounded-full bg-accent/20 text-accent">
                    <svg x-show="toast.variant === 'success'" class="h-5 w-5" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                              d="m5 13 4 4L19 7"/>
                    </svg>
                    <svg x-show="toast.variant === 'error'" class="h-5 w-5" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                              d="m6 18 12-12M6 6l12 12"/>
                    </svg>
                    <svg x-show="toast.variant === 'info'" class="h-5 w-5" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.6"
                              d="M13 16h-1v-4h-1m1-3h.01M12 21a9 9 0 1 0 0-18 9 9 0 0 0 0 18z"/>
                    </svg>
                </div>
                <div class="flex-1">
                    <h3 class="text-sm font-semibold text-surface-900 dark:text-white" x-text="toast.title"></h3>
                    <p class="mt-1 text-xs text-surface-500 dark:text-surface-300" x-text="toast.message"></p>
                </div>
                <button type="button" class="rounded-full p-1 text-surface-400 transition hover:text-surface-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary"
                        @click="dismiss(toast.id)">
                    <span class="sr-only">Close toast</span>
                    <svg class="h-4 w-4" viewBox="0 0 24 24" stroke="currentColor" fill="none">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5"
                              d="m6 6 12 12M6 18 18 6"/>
                    </svg>
                </button>
            </div>
            <div class="mt-3 h-1 overflow-hidden rounded-full bg-surface-200 dark:bg-surface-700">
                <div class="h-full bg-gradient-to-r from-primary to-accent" :style="`width: ${toast.progress}%`"></div>
            </div>
        </div>
    </template>
</div>

